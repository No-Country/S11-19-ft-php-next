'use client'
import { useEffect, useRef, useState } from "react";
import Image from "next/image";
import Link from "next/link";

const Header = () => {
	const [isLogged, setIsLogged] = useState(false)
	const [isOpen, setIsOpen] = useState(false)
	const menuRef = useRef(null)
	
	// document.addEventListener('click', function(event) {
	// 	if(isOpen && event.target !== menuRef.current){
	// 		setIsOpen(false)
	// 		console.log('isOpenFalse');
	// 	}
	// })
	useEffect(() => {
    const handleClickOutside = (event: MouseEvent) => {
      if (isOpen && menuRef.current && !menuRef.current.contains(event.target as Node)) {
        setIsOpen(false);
      }
    };

    document.addEventListener("mousedown", handleClickOutside);

    return () => {
      document.removeEventListener("mousedown", handleClickOutside);
    };
  }, [isOpen]);
	const openTheMenu = () => {
		setIsOpen(true)
		console.log('isOpenTrue');
	}
	return (
		<header >
			<nav ref={menuRef}  className={`fixed  bg-slate-100 transition-transform duration-500 text-navbar text-xl text-center h-screen z-50 w-52 ${isOpen ? 'translate-x-0': '-translate-x-full'}`}>
				<ul>
					
					<li className="my-10"><Link href={'/'}>Mis Plantas</Link></li>
					<li className="my-10"><Link href={'/'}>Calendario</Link></li>
					<li className="my-10"><Link href={'/'}>Recordatorio</Link></li>
					<li className="my-10"><Link href={'/'}>Notificaciones</Link></li>
					<li className="my-10"><Link href={'/'}>Mi perfil</Link></li>
				</ul>
			</nav>
			<div className="flex justify-between items-center h-20 bg-primary">
			{isLogged ? (
				<>
					<button id="hamburgerMenu" onClick={openTheMenu}>

						<i className="ml-2">ham</i>
					</button>
					<Image className="ml-2" src={""} alt="Brand" />
					<Image src={''} alt="avatar"/>					
				</>
			) : (
				<>
					<svg xmlns="http://www.w3.org/2000/svg" className="ml-3" width="133" height="16" viewBox="0 0 133 16" fill="none">
						<path d="M106.865 4.56697C106.865 4.56697 109.377 5.06468 109.975 6.58708C109.931 6.63099 109.873 6.66027 109.8 6.66027C109.8 6.66027 109.727 6.63099 109.712 6.58708C109.712 6.58708 109.698 6.52852 109.683 6.48461C109.683 6.48461 109.581 6.1772 109.45 6.04545C109.45 6.04545 109.055 5.65021 108.851 5.50383C108.851 5.50383 108.661 5.85515 108.544 5.94298C108.544 5.94298 108.077 6.30895 107.668 6.27967C107.668 6.27967 107.245 6.27967 106.938 6.04545C106.938 6.04545 106.15 5.54775 105.96 5.53311C105.96 5.53311 105.566 5.38672 105.23 5.40136C104.894 5.416 104.631 5.56238 104.602 5.59166C104.602 5.59166 104.5 5.66485 104.485 5.70877C104.485 5.70877 105.113 4.01071 106.982 3.77649C106.982 3.77649 107.975 3.65938 108.603 4.2742C108.603 4.2742 108.982 4.66944 108.924 5.10859C108.924 5.10859 108.924 5.10859 108.924 5.12323C108.924 5.12323 107.858 4.42058 106.865 4.55233V4.56697Z" fill="#4DAE3B"/>
						<path d="M5.59473 15.983C5.59473 15.983 3.20022 15.5731 0.864109 12.9528C0.864109 12.9528 -0.0557349 11.7671 0.00266786 10.2008C0.00266786 10.2008 0.0318681 9.90804 0.0756702 9.73237C0.0756702 9.73237 0.148674 9.52743 0.338483 9.64454C0.338483 9.64454 0.49909 9.98123 0.572094 10.2886C0.572094 10.2886 0.980913 11.3572 1.66715 12.0599C1.66715 12.0599 2.8352 12.9968 3.44843 13.231C3.44843 13.231 3.17102 12.7625 2.09056 11.5915C2.09056 11.5915 2.04676 11.0791 2.28037 11.123C2.28037 11.123 3.82805 12.0599 4.12006 12.3234C4.12006 12.3234 5.08371 13.0992 5.44872 14.1971C5.44872 14.1971 5.60933 15.2218 5.56553 15.9537" fill="#FDCB8F"/>
						<path d="M1.65288 11.6074C1.65288 11.6074 1.06885 11.0218 0.791442 10.407C0.791442 10.407 0.689236 9.82148 0.324219 9.39696C0.324219 9.39696 0.441024 8.85534 0.99585 8.66504C0.99585 8.66504 1.14186 8.69432 1.20026 9.90931C1.20026 9.90931 1.17106 10.3631 1.28787 10.6559L1.66748 11.5927L1.65288 11.6074Z" fill="#FDCB8F"/>
						<path d="M5.69629 15.984C5.69629 15.984 8.0908 15.5741 10.4269 12.9538C10.4269 12.9538 11.3468 11.7681 11.2884 10.2018C11.2884 10.2018 11.2592 9.90901 11.2153 9.73335C11.2153 9.73335 11.1423 9.52841 10.9525 9.64552C10.9525 9.64552 10.7919 9.9822 10.7189 10.2896C10.7189 10.2896 10.3101 11.3582 9.62387 12.0609C9.62387 12.0609 8.45582 12.9977 7.84259 13.2319C7.84259 13.2319 8.12 12.7635 9.20045 11.5924C9.20045 11.5924 9.24426 11.0801 9.01065 11.124C9.01065 11.124 7.46297 12.0609 7.17096 12.3244C7.17096 12.3244 6.20731 13.1002 5.8423 14.1981C5.8423 14.1981 5.68169 15.2228 5.72549 15.9547" fill="#FDCB8F"/>
						<path d="M9.62398 11.6074C9.62398 11.6074 10.208 11.0218 10.4854 10.407C10.4854 10.407 10.5876 9.82148 10.9526 9.39696C10.9526 9.39696 10.8358 8.85534 10.281 8.66504C10.281 8.66504 10.135 8.69432 10.0766 9.90931C10.0766 9.90931 10.1058 10.3631 9.98899 10.6559L9.60938 11.5927L9.62398 11.6074Z" fill="#FDCB8F"/>
						<path d="M5.5949 14.2721C5.5949 14.2721 5.11308 12.1642 2.23674 10.9199C2.23674 10.9199 1.91553 11.0077 1.94473 11.3005C1.94473 11.3005 1.66732 11.3005 1.55051 10.8467C1.55051 10.8467 1.2439 9.98302 1.3169 9.42676C1.3169 9.42676 3.82822 9.73417 4.33924 10.1587C4.33924 10.1587 5.95992 11.1248 6.19353 11.3737C6.19353 11.3737 5.6679 10.6125 5.24449 10.3343C5.24449 10.3343 6.64615 9.71953 7.58059 9.64633C7.58059 9.64633 9.36188 9.54387 9.9313 9.64633C9.9313 9.64633 9.9313 10.8321 9.53708 11.3737L9.37648 11.6372C9.37648 11.6372 9.39108 11.1102 9.23047 11.0224C9.23047 11.0224 9.20127 10.9492 9.01146 10.876C9.01146 10.876 7.43459 11.886 7.09877 12.1495C7.09877 12.1495 6.25193 12.6472 5.5949 14.3014V14.2721Z" fill="#4B1F07"/>
						<path d="M5.39069 9.86633L5.6827 9.73458V7.71447C5.6827 7.71447 6.48574 6.83616 6.79236 6.79225C6.79236 6.79225 7.756 6.924 8.09182 6.83616C8.13562 6.83616 8.17942 6.80689 8.19402 6.79225C8.19402 6.79225 8.42763 6.77761 8.89486 6.33846L9.36208 5.8993C9.36208 5.8993 9.96071 5.5919 10.1213 5.5187C10.1213 5.5187 8.79265 5.22593 7.36178 6.13352C7.36178 6.13352 8.15022 5.10883 10.3695 5.29913C10.3695 5.29913 9.04086 4.09877 7.39098 5.00636C7.39098 5.00636 6.92376 5.19666 6.71935 6.38237C6.71935 6.38237 5.79951 7.05574 5.75571 7.1143C5.75571 7.1143 5.98932 4.36226 6.54414 3.90847C6.54414 3.90847 8.12102 3.73281 8.15022 1.81517C8.15022 1.81517 8.01881 0.688008 7.46399 0C7.46399 0 7.7998 1.59559 6.86536 3.14727C6.86536 3.14727 7.53699 1.03933 7.30338 0.351324C7.30338 0.351324 6.69015 1.59559 6.19373 2.13722C6.19373 2.13722 5.85791 2.70812 6.20833 3.57179C6.20833 3.57179 5.5659 5.35768 5.4783 6.01641C5.4783 6.01641 4.63146 4.31835 4.67526 4.09877C4.67526 4.09877 4.99647 2.63492 2.77717 1.72734C2.77717 1.72734 3.63861 2.91306 3.79922 3.30829C3.79922 3.30829 3.01078 2.57637 2.77717 2.03475C2.77717 2.03475 2.66036 3.45468 3.4926 4.08413C3.4926 4.08413 4.20804 4.27443 4.52925 4.47937C4.52925 4.47937 5.30309 6.44093 5.37609 6.57267C5.37609 6.57267 5.40529 7.37779 5.36149 7.43634C5.36149 7.43634 4.73366 6.83617 4.38324 6.63123C4.38324 6.63123 3.77002 5.24057 1.82812 5.24057C1.82812 5.24057 2.99618 6.01641 3.24439 6.23599C3.24439 6.23599 2.32455 5.7822 1.90113 5.48943C1.90113 5.48943 2.61656 6.88008 3.09838 6.924C3.09838 6.924 3.81382 6.93863 4.20804 6.86544C4.20804 6.86544 4.61685 6.96791 5.33229 7.8755C5.33229 7.8755 5.39069 9.14904 5.37609 9.85169L5.39069 9.86633Z" fill="#4DAE3B"/>
						<path d="M26.8682 7.143C26.5323 6.42571 26.0359 5.86945 25.3935 5.48885C24.7511 5.09361 24.0064 4.90331 23.145 4.90331C22.2835 4.90331 21.5243 5.09361 20.8381 5.48885C20.1518 5.88409 19.6116 6.44035 19.232 7.17227C18.8378 7.9042 18.648 8.75323 18.648 9.70473C18.648 10.6562 18.8378 11.5053 19.232 12.2372C19.6262 12.9691 20.1664 13.5254 20.8381 13.9206C21.5243 14.3158 22.2835 14.5061 23.145 14.5061C24.3422 14.5061 25.3205 14.1548 26.0943 13.4375C26.8682 12.7203 27.3208 11.7541 27.4376 10.5391H22.561V9.2363H29.1313V10.4659C29.0437 11.476 28.7224 12.3982 28.1822 13.2326C27.642 14.067 26.9412 14.7257 26.0651 15.2234C25.1891 15.7065 24.2108 15.9554 23.145 15.9554C22.0061 15.9554 20.9841 15.6919 20.0496 15.1502C19.1152 14.6233 18.3706 13.8767 17.8303 12.9252C17.2901 11.9737 17.0127 10.9051 17.0127 9.70473C17.0127 8.50437 17.2901 7.43577 17.8303 6.48426C18.3706 5.53276 19.1152 4.7862 20.0496 4.25922C20.9841 3.73223 22.0207 3.4541 23.145 3.4541C24.4444 3.4541 25.5833 3.77615 26.5907 4.42024C27.5836 5.06433 28.3136 5.97192 28.7662 7.143H26.8536H26.8682Z" fill="#DCF1E3"/>
						<path d="M31.249 8.38805C31.6432 7.64149 32.1981 7.07059 32.8843 6.66071C33.5851 6.25084 34.359 6.0459 35.2058 6.0459C36.0526 6.0459 36.7827 6.22156 37.3959 6.58752C38.0091 6.95348 38.4764 7.40728 38.783 7.96354V6.20692H40.389V15.839H38.783V14.0531C38.4618 14.6094 37.9945 15.0778 37.3667 15.4438C36.7389 15.8098 36.0088 16.0001 35.1912 16.0001C34.3736 16.0001 33.5705 15.7951 32.8843 15.3706C32.1981 14.9461 31.6578 14.3605 31.249 13.5993C30.8548 12.8381 30.6504 11.9745 30.6504 10.9937C30.6504 10.0129 30.8548 9.14925 31.249 8.40269V8.38805ZM38.3449 9.10534C38.0529 8.56372 37.6587 8.15384 37.1623 7.86107C36.6659 7.5683 36.1256 7.43655 35.527 7.43655C34.9284 7.43655 34.3882 7.58294 33.8917 7.86107C33.3953 8.1392 33.0157 8.54908 32.7237 9.0907C32.4317 9.63232 32.2857 10.2618 32.2857 10.9937C32.2857 11.7256 32.4317 12.3697 32.7237 12.9113C33.0157 13.453 33.4099 13.8775 33.8917 14.1556C34.3882 14.4484 34.9284 14.5801 35.527 14.5801C36.1256 14.5801 36.6659 14.4337 37.1623 14.1556C37.6587 13.8628 38.0529 13.453 38.3449 12.9113C38.637 12.3697 38.783 11.7256 38.783 11.0083C38.783 10.2911 38.637 9.64696 38.3449 9.10534Z" fill="#DCF1E3"/>
						<path d="M45.8932 6.48407C46.4188 6.17666 47.0466 6.03027 47.7913 6.03027V7.68442H47.3678C45.5866 7.68442 44.6813 8.65056 44.6813 10.5975V15.838H43.0898V6.20594H44.6813V7.77225C44.9587 7.21599 45.3675 6.79147 45.8786 6.48407H45.8932Z" fill="#DCF1E3"/>
						<path d="M49.6299 8.38781C50.0241 7.64125 50.5789 7.07035 51.2652 6.66047C51.966 6.2506 52.7398 6.04566 53.6013 6.04566C54.3459 6.04566 55.0467 6.22132 55.6892 6.558C56.3316 6.90933 56.828 7.36312 57.1638 7.91938V2.8252H58.7699V15.8242H57.1638V14.009C56.8426 14.5799 56.3754 15.0483 55.7622 15.4289C55.1489 15.8095 54.4189 15.9852 53.5867 15.9852C52.7544 15.9852 51.966 15.7802 51.2652 15.3557C50.5643 14.9312 50.0241 14.3457 49.6299 13.5845C49.2357 12.8233 49.0312 11.9596 49.0312 10.9788C49.0312 9.99804 49.2357 9.13438 49.6299 8.38781ZM56.7258 9.1051C56.4338 8.56347 56.0396 8.1536 55.5432 7.86083C55.0467 7.56806 54.5065 7.43631 53.9079 7.43631C53.3093 7.43631 52.769 7.5827 52.2726 7.86083C51.7762 8.13896 51.3966 8.54884 51.1045 9.09046C50.8125 9.63208 50.6665 10.2615 50.6665 10.9935C50.6665 11.7254 50.8125 12.3695 51.1045 12.9111C51.3966 13.4527 51.7908 13.8772 52.2726 14.1554C52.769 14.4481 53.3093 14.5799 53.9079 14.5799C54.5065 14.5799 55.0467 14.4335 55.5432 14.1554C56.0396 13.8626 56.4338 13.4527 56.7258 12.9111C57.0178 12.3695 57.1638 11.7254 57.1638 11.0081C57.1638 10.2908 57.0178 9.64672 56.7258 9.1051Z" fill="#DCF1E3"/>
						<path d="M70.1883 11.6232H62.5084C62.5668 12.5747 62.888 13.3066 63.4866 13.8482C64.0706 14.3752 64.7861 14.6533 65.6329 14.6533C66.3191 14.6533 66.9032 14.4923 67.3558 14.1703C67.823 13.8482 68.1442 13.4237 68.334 12.8821H70.0569C69.7941 13.8043 69.2831 14.5655 68.5092 15.1364C67.7354 15.7219 66.7864 16.0001 65.6329 16.0001C64.7277 16.0001 63.91 15.7951 63.1946 15.3853C62.4792 14.9754 61.9097 14.3898 61.5009 13.6433C61.0921 12.8821 60.8877 12.0184 60.8877 11.023C60.8877 10.0276 61.0921 9.14927 61.4863 8.40271C61.8805 7.65615 62.4354 7.07061 63.1654 6.67537C63.8808 6.2655 64.7131 6.0752 65.6475 6.0752C66.582 6.0752 67.3704 6.28013 68.0712 6.67537C68.7721 7.07061 69.3123 7.62687 69.6919 8.31488C70.0715 9.00289 70.2613 9.79337 70.2613 10.6717C70.2613 10.9791 70.2467 11.3011 70.2029 11.6378L70.1883 11.6232ZM68.188 8.75403C67.9252 8.31488 67.5602 7.9782 67.093 7.75862C66.6258 7.5244 66.1147 7.42193 65.5599 7.42193C64.7569 7.42193 64.0706 7.68543 63.5012 8.19777C62.9318 8.71012 62.6106 9.4274 62.523 10.335H68.5823C68.5823 9.72017 68.4508 9.20783 68.1734 8.76867L68.188 8.75403Z" fill="#DCF1E3"/>
						<path d="M79.8534 7.09888C80.5834 7.80153 80.9338 8.82622 80.9338 10.1583V15.838H79.357V10.3925C79.357 9.4264 79.1234 8.69448 78.6415 8.18213C78.1597 7.66978 77.5027 7.42093 76.685 7.42093C75.8674 7.42093 75.1812 7.68442 74.6847 8.21141C74.1883 8.73839 73.9401 9.49959 73.9401 10.5096V15.838H72.3486V6.20594H73.9401V7.58195C74.2613 7.08424 74.6847 6.70364 75.225 6.44015C75.7652 6.17666 76.3638 6.03027 77.0209 6.03027C78.1889 6.03027 79.138 6.3816 79.8534 7.09888Z" fill="#DCF1E3"/>
						<path d="M103.58 3.58691L100.046 15.8247H98.2649L95.4324 5.97298L92.483 15.8247H90.7164L87.2998 3.58691H88.9935L91.6508 13.9656L94.6001 3.58691H96.3814L99.1848 13.9363L101.871 3.58691H103.594H103.58Z" fill="#DCF1E3"/>
						<path d="M109.975 6.58691C109.975 6.58691 110.179 6.90896 110.179 6.93824C110.252 7.15782 110.296 7.18709 110.34 7.34812C110.34 7.37739 110.456 7.94829 110.456 7.99221C110.456 8.02148 111.581 15.5017 111.581 15.8384H109.989C109.989 13.467 109.916 8.18251 109.916 7.99221C109.916 7.91901 109.887 7.45058 109.887 7.36275C109.887 7.31884 109.785 6.90896 109.77 6.85041C109.77 6.80649 109.683 6.63083 109.683 6.58691C110.208 6.58691 109.42 6.58691 109.945 6.58691H109.975Z" fill="#DCF1E3"/>
						<path d="M115.742 15.6185C115.158 15.3696 114.69 15.0183 114.355 14.5645C114.019 14.1107 113.829 13.5984 113.8 13.0128H115.45C115.493 13.4959 115.727 13.8911 116.121 14.1839C116.53 14.4913 117.056 14.6377 117.713 14.6377C118.326 14.6377 118.793 14.5059 119.144 14.2278C119.494 13.9643 119.669 13.613 119.669 13.2031C119.669 12.7932 119.479 12.4712 119.114 12.2663C118.735 12.0613 118.165 11.8564 117.377 11.6661C116.662 11.4758 116.078 11.2855 115.639 11.0952C115.187 10.9049 114.807 10.6121 114.486 10.2315C114.165 9.85091 114.004 9.35321 114.004 8.72375C114.004 8.22604 114.15 7.78689 114.442 7.37701C114.734 6.96714 115.143 6.64509 115.683 6.39624C116.224 6.14738 116.837 6.03027 117.523 6.03027C118.589 6.03027 119.45 6.29377 120.093 6.83539C120.75 7.37701 121.1 8.10894 121.144 9.0458H119.552C119.523 8.54809 119.319 8.13821 118.954 7.83081C118.589 7.5234 118.092 7.37701 117.479 7.37701C116.91 7.37701 116.457 7.49412 116.107 7.74297C115.771 7.99183 115.596 8.31388 115.596 8.70911C115.596 9.03116 115.698 9.28001 115.902 9.48495C116.107 9.68989 116.37 9.85091 116.676 9.98266C116.983 10.0998 117.421 10.2462 117.961 10.3925C118.647 10.5828 119.217 10.7585 119.64 10.9488C120.063 11.1391 120.443 11.4026 120.75 11.7686C121.056 12.1345 121.217 12.6029 121.232 13.1885C121.232 13.7155 121.086 14.1839 120.794 14.6084C120.502 15.0329 120.093 15.355 119.552 15.6038C119.027 15.838 118.414 15.9698 117.727 15.9698C116.997 15.9698 116.326 15.838 115.742 15.5892V15.6185Z" fill="#DCF1E3"/>
						<path d="M132.168 11.6232H124.488C124.546 12.5747 124.867 13.3066 125.466 13.8482C126.05 14.3752 126.766 14.6533 127.612 14.6533C128.299 14.6533 128.883 14.4923 129.335 14.1703C129.803 13.8482 130.124 13.4237 130.314 12.8821H132.036C131.774 13.8043 131.263 14.5655 130.489 15.1364C129.715 15.7219 128.766 16.0001 127.612 16.0001C126.707 16.0001 125.89 15.7951 125.174 15.3853C124.459 14.9754 123.889 14.3898 123.48 13.6433C123.072 12.8821 122.867 12.0184 122.867 11.023C122.867 10.0276 123.072 9.14927 123.466 8.40271C123.86 7.65615 124.415 7.07061 125.145 6.67537C125.86 6.2655 126.693 6.0752 127.627 6.0752C128.561 6.0752 129.35 6.28013 130.051 6.67537C130.752 7.07061 131.292 7.62687 131.671 8.31488C132.051 9.00289 132.241 9.79337 132.241 10.6717C132.241 10.9791 132.226 11.3011 132.182 11.6378L132.168 11.6232ZM130.168 8.75403C129.905 8.31488 129.54 7.9782 129.072 7.75862C128.605 7.5244 128.094 7.42193 127.539 7.42193C126.736 7.42193 126.05 7.68543 125.481 8.19777C124.911 8.71012 124.59 9.4274 124.502 10.335H130.562C130.562 9.72017 130.43 9.20783 130.153 8.76867L130.168 8.75403Z" fill="#DCF1E3"/>
					</svg>

					<div className="text-sm mr-3">
						<Link className="mr-7 text-slate-100" href={"/register"}>
							Registrarme
						</Link>
						<Link
							className="p-2 bg-secondary text-slate-100 rounded-xl"
							href={"/login"}
						>
							Iniciar Sesi√≥n
						</Link>
					</div>
				
				</>
			)}
			</div>
		</header>
	);
};

export default Header;
